# ============================================
# NORTH AI System - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# All variables marked (Required) must be set
# All variables marked (Optional) are for specific features

# ============================================
# CORE CONFIGURATION
# ============================================

# OpenAI API Key (Required)
# Used for: LLM orchestration, embeddings (if not using Voyage)
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# ============================================
# VECTOR DATABASE (WEAVIATE)
# ============================================

# Weaviate Cloud URL (Optional)
# If not set, system will attempt to connect to local Docker instance at http://localhost:8080
# Production deployment should use Weaviate Cloud for reliability
# Format: https://your-cluster-name.weaviate.network
WEAVIATE_URL=

# Weaviate API Key (Optional, required if WEAVIATE_URL is set)
# Get from Weaviate Cloud dashboard
WEAVIATE_API_KEY=

# Voyage AI API Key (Optional, recommended for production)
# Used for: High-quality embeddings and reranking
# If not set, system falls back to OpenAI embeddings
# Get your key at: https://www.voyageai.com/
VOYAGE_API_KEY=

# ============================================
# OBSIDIAN VAULT INTEGRATION
# ============================================

# Obsidian Vault Path (Optional)
# Path to your Obsidian vault for knowledge base ingestion
# Required for: Company/contractor information search
# Example (Windows): C:\Users\YourName\Documents\MyVault
# Example (Mac/Linux): /Users/yourname/Documents/MyVault
OBSIDIAN_VAULT_PATH=

# Obsidian Index Folder (Optional)
# Relative path from vault root to your index/data folder
# Default: "3 - Index" (assumes index folder at vault root)
# Example: "Company Name/Main Files/3 - Index"
OBSIDIAN_INDEX_FOLDER=3 - Index

# ============================================
# DROPBOX INTEGRATION
# ============================================

# Required for automatic token refresh (recommended)
DROPBOX_APP_KEY=
DROPBOX_APP_SECRET=
DROPBOX_REFRESH_TOKEN=

# Dropbox Access Token (Optional)
# Required for: Document search (contracts, invoices, W9s)
# Get token at: https://www.dropbox.com/developers/apps
DROPBOX_ACCESS_TOKEN=

# Dropbox Root Path (Optional)
# Default: /COMPANY_FILES
# Change if your documents are stored in a different root folder
DROPBOX_ROOT_PATH=/COMPANY_FILES

# Dropbox Team Configuration (Optional)
# Only required if using Dropbox Business/Team accounts
DROPBOX_TEAM_MEMBER_ID=
DROPBOX_NAMESPACE_ID=

# ============================================
# WEB DEPLOYMENT (SUPABASE & API)
# ============================================

# Supabase Configuration (Required for web deployment)
# Get credentials from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=
SUPABASE_JWT_SECRET=

# Application URL (Required for web deployment)
# Production: Your custom domain (e.g., https://example-ai.com)
# Development: http://localhost:3000
APP_URL=

# Environment Mode (Optional)
# Values: production | development
# Default: production
ENVIRONMENT=production

# Disable Authentication Verification (Local Development Only)
# Set to 'true' to bypass JWT signature verification for local testing
# WARNING: NEVER set this to 'true' in production!
# Default: false
DISABLE_AUTH_VERIFICATION=false

# ============================================
# CLOUDFLARE ACCESS (OPTIONAL SECURITY)
# ============================================

# Cloudflare Access Credentials (Optional)
# Only needed if Weaviate is behind Cloudflare Access
CF_ACCESS_CLIENT_ID=
CF_ACCESS_CLIENT_SECRET=

# ============================================
# ADVANCED / DEBUGGING
# ============================================

# LangSmith Tracing (Optional)
# For: RAG pipeline observability and debugging
# Get key at: https://smith.langchain.com/
LANGCHAIN_API_KEY=
LANGCHAIN_TRACING_V2=false
LANGCHAIN_PROJECT=NORTH-AI

# NORTH Master Key (Optional)
# For: Encrypted environment variable storage
# Leave empty unless you're using the crypto_utils module
NORTH_MASTER_KEY=

# ============================================
# NOTES
# ============================================
#
# DEPLOYMENT MODES:
#
# 1. Local CLI Mode (Minimal):
#    - OPENAI_API_KEY (required)
#    - OBSIDIAN_VAULT_PATH (optional, for knowledge search)
#    - Weaviate runs in Docker locally
#
# 2. Web Deployment Mode (Full):
#    - All Supabase variables (required)
#    - WEAVIATE_URL + WEAVIATE_API_KEY (required)
#    - VOYAGE_API_KEY (recommended)
#    - DROPBOX_ACCESS_TOKEN (optional, for document search)
#    - APP_URL (required)
#
# SECURITY:
# - Never commit the .env file to Git
# - Use environment variables in production (Render, Vercel, etc.)
# - Keep Dropbox tokens and Supabase service keys secure
# - JWT tokens are verified by default; only disable for local dev/testing
# - WebSocket connections require valid JWT token in query params (production)
#
